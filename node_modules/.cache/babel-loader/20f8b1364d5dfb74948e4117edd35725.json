{"ast":null,"code":"import \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'popupView',\n  data: function data() {\n    return {\n      query: '',\n      subject: 'title',\n      modifier: 'starts_with',\n      string: '',\n      seconds: '',\n      rules: [],\n      and: []\n    };\n  },\n  methods: {\n    saveRule: function saveRule() {\n      var query = {};\n      query.subject = this.subject;\n      query.modifier = this.modifier;\n      query.string = this.string;\n      query.seconds = this.seconds;\n      query.and = JSON.parse(JSON.stringify(this.and));\n      query.id = Math.floor(Date.now() / 1000);\n      chrome.storage.sync.get(\"skipr_rules\", function (items) {\n        var currentRules = [];\n\n        if (typeof items.skipr_rules !== 'undefined') {\n          currentRules = items.skipr_rules;\n        }\n\n        currentRules.push(query);\n        chrome.storage.sync.set({\n          \"skipr_rules\": currentRules\n        }, function () {\n          this.rules = currentRules;\n          this.subject = '';\n          this.modifier = '';\n          this.string = '';\n          this.seconds = '';\n          this.and = [];\n        });\n      });\n    },\n    deleteRule: function deleteRule(id) {\n      chrome.storage.sync.get(\"skipr_rules\", function (items) {\n        var currentRules = items.skipr_rules;\n        currentRules = currentRules.filter(function (obj) {\n          return obj.id !== id;\n        });\n        chrome.storage.sync.set({\n          \"skipr_rules\": currentRules\n        }, function () {\n          this.rules = currentRules;\n        });\n      });\n    },\n    deleteRules: function deleteRules() {\n      var _this = this;\n\n      chrome.storage.sync.set({\n        \"skipr_rules\": []\n      }, function () {\n        _this.rules = [];\n      });\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    chrome.storage.sync.get(\"skipr_rules\", function (items) {\n      _this2.rules = items.skipr_rules;\n    });\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyIA;AACAA,mBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,eADA;AAEAC,sBAFA;AAGAC,6BAHA;AAIAC,gBAJA;AAKAC,iBALA;AAMAC,eANA;AAOAC;AAPA;AASA,GAZA;AAaAC;AACAC,YADA,sBACA;AACA;AACAR;AACAA;AACAA;AACAA;AACAA;AACAA;AACAS;AACA;;AACA;AACAC;AACA;;AACAA;AACAD;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAPA;AAQA,OAdA;AAeA,KAxBA;AAyBAE,cAzBA,sBAyBAC,EAzBA,EAyBA;AACAH;AACA;AACAC;AACA;AACA,SAFA;AAGAD;AAAA;AAAA;AACA;AACA,SAFA;AAGA,OARA;AASA,KAnCA;AAoCAI,eApCA,yBAoCA;AAAA;;AACAJ;AAAA;AAAA;AACA;AACA,OAFA;AAGA;AAxCA,GAbA;AAuDAK,SAvDA,qBAuDA;AAAA;;AACAL;AACA;AACA,KAFA;AAGA;AA3DA","names":["name","data","query","subject","modifier","string","seconds","rules","and","methods","saveRule","chrome","currentRules","deleteRule","id","deleteRules","mounted"],"sourceRoot":"src/view","sources":["popup.vue"],"sourcesContent":["<template>\n    <div class=\"main_app\">\n        <div class=\"p-4\">\n            <div>\n                <div class=\"relative\">\n                    <h1 class=\"font-bold text-lg\">\n                        New rule\n                    </h1>\n                    <div class=\"flex space-x-4 pr-16\">\n                        <select v-model=\"subject\"\n                                class=\"w-4/12 w-4/12 border border-gray-200 rounded-lg text-base p-2 px-3 focus:outline-none\">\n                            <option>Subject</option>\n                            <option value=\"date\">Published date</option>\n                            <option value=\"title\">Title</option>\n                            <option value=\"channel\">Channel</option>\n                        </select>\n                        <select v-if=\"subject === 'date'\" v-model=\"modifier\"\n                                class=\"w-4/12 w-4/12 border border-gray-200 rounded-lg text-base p-2 px-3 focus:outline-none\">\n                            <option>Modifier</option>\n                            <option value=\"newer_than\">Newer than</option>\n                            <option value=\"older_than\">Older than</option>\n                        </select>\n                        <select v-if=\"subject !== 'date'\" v-model=\"modifier\"\n                                class=\"w-4/12 w-4/12 border border-gray-200 rounded-lg text-base p-2 px-3 focus:outline-none\">\n                            <option>Modifier</option>\n                            <option value=\"starts_with\">Starts with</option>\n                            <option value=\"ends_with\">End with</option>\n                            <option value=\"contains\">Contains</option>\n                            <option value=\"equals\">Equals</option>\n                            <option value=\"not_equals\">Does not equal</option>\n                        </select>\n                        <input v-if=\"subject !== 'date'\" type=\"text\" v-model=\"string\" placeholder=\"String\"\n                               class=\"w-4/12 border border-gray-200 rounded-lg text-base p-2 px-3 focus:outline-none\"/>\n                        <input v-if=\"subject === 'date'\" type=\"date\" v-model=\"string\" placeholder=\"Date\"\n                               class=\"w-4/12 border border-gray-200 rounded-lg text-base p-2 px-3 focus:outline-none\"/>\n                    </div>\n                    <div class=\"flex flex-col pr-16 space-y-2\">\n                        <div class=\"flex space-x-4\" v-for=\"(andRule, index) in and\" :key=\"index\">\n                            <select v-model=\"andRule.subject\"\n                                    class=\"w-4/12 w-4/12 border border-gray-200 rounded-lg text-base p-2 px-3 focus:outline-none\">\n                                <option>Subject</option>\n                                <option value=\"date\">Published date</option>\n                                <option value=\"title\">Title</option>\n                                <option value=\"channel\">Channel</option>\n                            </select>\n                            <select v-if=\"andRule.subject === 'date'\" v-model=\"andRule.modifier\"\n                                    class=\"w-4/12 w-4/12 border border-gray-200 rounded-lg text-base p-2 px-3 focus:outline-none\">\n                                <option>Modifier</option>\n                                <option value=\"newer_than\">Newer than</option>\n                                <option value=\"older_than\">Older than</option>\n                            </select>\n                            <select v-if=\"andRule.subject !== 'date'\" v-model=\"andRule.modifier\"\n                                    class=\"w-4/12 w-4/12 border border-gray-200 rounded-lg text-base p-2 px-3 focus:outline-none\">\n                                <option>Modifier</option>\n                                <option value=\"starts_with\">Starts with</option>\n                                <option value=\"ends_with\">End with</option>\n                                <option value=\"contains\">Contains</option>\n                                <option value=\"equals\">Equals</option>\n                                <option value=\"not_equals\">Does not equal</option>\n                            </select>\n                            <input v-if=\"andRule.subject !== 'date'\" type=\"text\" v-model=\"andRule.string\" placeholder=\"String\"\n                                   class=\"w-4/12 border border-gray-200 rounded-lg text-base p-2 px-3 focus:outline-none\"/>\n                            <input v-if=\"andRule.subject == 'date'\" type=\"date\" v-model=\"andRule.string\" placeholder=\"Date\"\n                                   class=\"w-4/12 border border-gray-200 rounded-lg text-base p-2 px-3 focus:outline-none\"/>\n                        </div>\n                        <button @click=\"and.push({subject: '', modifier: '', string: ''})\"\n                                class=\"absolute bottom-2 mt-2 rounded-full right-0 text-gray-200 hover:text-gray-500\">\n                            <svg class=\"w-6 h-6 -mb-1\" fill=\"currentColor\" viewBox=\"0 0 20 20\"\n                                 xmlns=\"http://www.w3.org/2000/svg\">\n                                <path fill-rule=\"evenodd\"\n                                      d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z\"\n                                      clip-rule=\"evenodd\"></path>\n                            </svg>\n                        </button>\n                    </div>\n                </div>\n\n                <div class=\"mt-4\">\n                    <input type=\"number\" v-model=\"seconds\" placeholder=\"Skip (seconds)\"\n                           class=\"w-4/12 border border-gray-200 rounded-lg text-sm p-2 px-2 focus:outline-none\"/>\n\n                    <button @click=\"saveRule()\" class=\"bg-gray-900 text-white px-3 py-2 rounded-md text-sm font-medium\">\n                        Save\n                    </button>\n                </div>\n                <div v-if=\"rules.length > 0\">\n                    <h1 class=\"font-bold text-lg mt-8\">\n                        Current rules\n                    </h1>\n                    <div class=\"divide-y divide-gray-100 mb-4\">\n                        <div class=\"flex flex-col\">\n                            <div class=\"flex w-full\" v-for=\"(rule, index) in rules\" :key=\"index\">\n                                <div class=\"flex-1 py-2\">\n                                <span class=\"font-mono bg-gray-100 p-1 text-xs\">\n                                    <span v-text=\"rule.subject\"></span>\n                                    <span v-text=\"rule.modifier\"></span>\n                                    \"<span v-text=\"rule.string\"></span>\"\n                                </span>\n                                    <span v-for=\"(andRule, andIndex) in rule.and\" :key=\"andIndex\">\n                                    <strong class=\"ml-1\">AND</strong>\n                                    <span class=\"font-mono bg-gray-100 p-1 text-xs\">\n                                        <span v-text=\"andRule.subject\"></span>\n                                        <span v-text=\"andRule.modifier\"></span>\n                                        \"<span v-text=\"andRule.string\"></span>\"\n                                    </span>\n                                </span>\n                                    <div class=\"bg-blue-500 text-xs p-1 rounded-sm text-white inline-block\">\n                                        <span>skip </span>\n                                        <span v-text=\"rule.seconds\"></span>\n                                        <span>seconds</span>\n                                    </div>\n                                </div>\n                                <div class=\"flex-0 py-2\">\n                                    <button class=\"flex-0 text-red-500 rounded-full p-1 hover:bg-red-500 hover:text-white\"\n                                            @click=\"deleteRule(rule.id)\">\n                                        <svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"\n                                             xmlns=\"http://www.w3.org/2000/svg\">\n                                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                                                  d=\"M6 18L18 6M6 6l12 12\"></path>\n                                        </svg>\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"flex justify-end\">\n                        <button @click=\"deleteRules\" class=\"bg-white hover:text-white hover:bg-red-500 text-red-500 px-3 py-2 rounded-md text-sm font-medium mt-4 mr-0\">\n                            Delete all\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'popupView',\n    data() {\n        return {\n            query: '',\n            subject: 'title',\n            modifier: 'starts_with',\n            string: '',\n            seconds: '',\n            rules: [],\n            and: []\n        }\n    },\n    methods: {\n        saveRule() {\n            var query = {};\n            query.subject = this.subject;\n            query.modifier = this.modifier;\n            query.string = this.string;\n            query.seconds = this.seconds;\n            query.and = JSON.parse(JSON.stringify(this.and))\n            query.id = Math.floor(Date.now() / 1000);\n            chrome.storage.sync.get(\"skipr_rules\", (items) => {\n                var currentRules = [];\n                if (typeof items.skipr_rules !== 'undefined') {\n                    currentRules = items.skipr_rules;\n                }\n                currentRules.push(query);\n                chrome.storage.sync.set({\"skipr_rules\": currentRules}, function () {\n                    this.rules = currentRules;\n                    this.subject = ''\n                    this.modifier = ''\n                    this.string = ''\n                    this.seconds = ''\n                    this.and = []\n                });\n            });\n        },\n        deleteRule(id) {\n            chrome.storage.sync.get(\"skipr_rules\", (items) => {\n                var currentRules = items.skipr_rules;\n                currentRules = currentRules.filter(function (obj) {\n                    return obj.id !== id;\n                });\n                chrome.storage.sync.set({\"skipr_rules\": currentRules}, function () {\n                    this.rules = currentRules;\n                });\n            });\n        },\n        deleteRules() {\n            chrome.storage.sync.set({\"skipr_rules\": []}, () => {\n                this.rules = [];\n            });\n        }\n    },\n    mounted() {\n        chrome.storage.sync.get(\"skipr_rules\", (items) => {\n            this.rules = items.skipr_rules;\n        });\n    }\n}\n\n</script>\n\n<style>\n@import '../assets/tailwind.css';\n\n.main_app {\n    width: 800px;\n    /*font-family: 'Avenir', Helvetica, Arial, sans-serif;*/\n    /*-webkit-font-smoothing: antialiased;*/\n    /*-moz-osx-font-smoothing: grayscale;*/\n    /*text-align: center;*/\n    /*color: #2c3e50;*/\n    /*margin-top: 60px;*/\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}