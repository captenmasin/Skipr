(function(){function e(){var e=window.location.href;if(("youtube.com"===location.hostname||"www.youtube.com"===location.hostname)&&-1===e.indexOf("?t=")&&-1===e.indexOf("&t=")){var t=n(e),r="https://skipr.masondoes.dev/video?video="+t;fetch(r).then((e=>e.json())).then((e=>{i(e)}))}}function t(){e()}function n(e){var t=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/,n=e.match(t);return!(!n||11!=n[7].length)&&n[7]}function r(e){var t=document.getElementsByTagName("video")[0];t.currentTime=parseInt(e)}function i(e){chrome.storage.sync.get("skipr_rules",(function(t){var n=t.skipr_rules;n.forEach((function(t){var n=[];n.push(a(t,e)),"undefined"!==typeof t.and&&t.and.forEach((function(t){n.push(a(t,e))})),n.includes(!1)||parseInt(t.seconds)>0&&r(t.seconds)}))}))}function a(e,t){var n="";if("title"===e.subject&&(n=t.title),"channel"===e.subject&&(n=t.channelTitle),"date"===e.subject){var r=Date.parse(t.publishedAt);n=r}if("date"!==n)switch(e.modifier){case"starts_with":if(""!==e.string&&n.startsWith(e.string))return!0;break;case"ends_with":if(""!==e.string&&n.endsWith(e.string))return!0;break;case"contains":if(""!==e.string&&n.includes(e.string))return!0;break;case"equals":if(""!==e.string&&n===e.string)return!0;break;case"not_equals":if(""!==e.string&&n!==e.string)return!0;break}else{let t=new Date(e.string);switch(e.modifier){case"newer_than":if(n>t)return!0;break;case"older_than":if(n<t)return!0;break}}return!1}e(),window.onload=function(){var e=document.getElementsByTagName("title")[0],n=document.documentElement;n&&n.addEventListener?n.addEventListener("DOMSubtreeModified",(function(n){var r=n.target;(r===e||r.parentNode&&r.parentNode===e)&&t()}),!1):document.onpropertychange=function(){"title"==window.event.propertyName&&t()}}})();